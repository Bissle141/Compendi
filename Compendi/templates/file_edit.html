{% extends 'base.html' %}

{% block head %}{% endblock %}
{% block pageTitle %} Edit | {{open_file.name}} {% endblock %}

{% block body %}
<!-- Section Delete Modal -->
<div id="delete-section-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="ConfirmDeleteModal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="mymodal modal-content d-flex flex-column p-3">
        <div class="modal-body">
            <span class="bebas" style="font-size: 1.5rem;">Are you sure you want to delete this section?</span>
        </div>
        
        <div class="modal-footer">
            <button type="button" class="btn btn-primary">Yes</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
          </div>
      </div>
    </div>
</div>

<!-- 
    <button id="add-btn" style="margin: 10px;" type="button" class="btn" data-toggle="modal" data-target="#delete-section-modal">
            <span class="btn-icon material-icons" style="color: white;">remove_circle</span>
        </button>
 -->


<form action="" class="m-4">
    
    <div class="form-group">
        <label for="fileName" class="bebas">File Name</label>
        <input type="text" class="form-control old" id="fileName" placeholder="File Name">
    </div>

    <!-- Accordions -->
    <div id="sectionsAccordion1">
        <div class="card form-group section-div">
            <div class="card-header d-flex flex-row justify-content-between" id="headingOne">

                <div class="d-flex flex-row justify-content-between" style="width: 70%;">
                    <label for="sectionName" class="bebas" style="width: 200px;">Section Name</label>
                    <input type="text" class="form-control old" id="sectionName" placeholder="Section Name">
                </div>

                <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    <span class="material-icons">
                        expand_more
                    </span>
                </button>
            </div>

            <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                <div class="card-body">
                    <label for="sectionBody" class="bebas">Section Body</label>
                    <textarea name="sectionBody" id="sectionBody" rows="5" class="form-control old" placeholder="..."></textarea>
                </div>
              </div>
        </div>
    </div>
    
    <button id='addSection' type="button" class="btn rounded form-control" style="background-color: #F5F2EA;">
        <span class="material-icons">add</span>
    </button>
</form>

<script>
    let counter = 2
    const addSectionBtn = document.getElementById("addSection");
    addSectionBtn.addEventListener('click', function() {
        let html = `<div id="sectionsAccordion${counter}"><div class="card form-group section-div"><div class="card-header d-flex flex-row justify-content-between" id="heading${counter}"><div class="d-flex flex-row justify-content-between" style="width: 70%;"><label for="sectionName" class="bebas" style="width: 200px;">Section Name</label><input type="text" class="form-control old" id="sectionName" placeholder="Section Name"></div><button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapse${counter}" aria-expanded="true" aria-controls="collapse${counter}"><span class="material-icons">expand_more</span></button></div><div id="collapse${counter}" class="collapse show" aria-labelledby="heading${counter}" data-parent="#sectionsAccordion${counter}"><div class="card-body"><label for="sectionBody" class="bebas">Section Body</label><textarea name="sectionBody" id="sectionBody" rows="5" class="form-control old" placeholder="..."></textarea></div></div></div></div>`    
        addSectionBtn.insertAdjacentHTML("beforebegin", html);
        counter += 1;
    })
</script>
{% endblock %}